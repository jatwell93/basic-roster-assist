<div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900">New Award Rate</h1>
    <p class="mt-2 text-sm text-gray-600">Create a new Fair Work award rate for wage calculations</p>
  </div>

  <div class="bg-white shadow-lg rounded-lg overflow-hidden">
    <%= form_with(model: @award_rate, url: awards_path, method: :post, class: "divide-y divide-gray-200") do |form| %>
      <% if @award_rate.errors.any? %>
        <div class="px-6 py-4 bg-red-50 border-b border-red-200">
          <div class="text-sm text-red-800">
            <h3 class="font-medium">Please fix the following errors:</h3>
            <ul class="mt-2 list-disc list-inside">
              <% @award_rate.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        </div>
      <% end %>

      <div class="px-6 py-6">
        <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
          <div class="sm:col-span-3">
            <%= form.label :award_code, class: "block text-sm font-medium text-gray-700" %>
            <div class="mt-1">
              <%= form.text_field :award_code, placeholder: "e.g., MA000004", class: "shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md" %>
            </div>
            <p class="mt-2 text-sm text-gray-500">Fair Work award code (e.g., MA000004 for Hospitality)</p>
          </div>

          <div class="sm:col-span-3">
            <%= form.label :classification, class: "block text-sm font-medium text-gray-700" %>
            <div class="mt-1">
              <%= form.text_field :classification, placeholder: "e.g., Level 1", class: "shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md" %>
            </div>
            <p class="mt-2 text-sm text-gray-500">Classification level within the award</p>
          </div>

          <div class="sm:col-span-2">
            <%= form.label :rate, class: "block text-sm font-medium text-gray-700" %>
            <div class="mt-1 relative rounded-md shadow-sm">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <span class="text-gray-500 sm:text-sm">$</span>
              </div>
              <%= form.number_field :rate, step: 0.01, min: 0, placeholder: "25.50", class: "focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md" %>
              <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                <span class="text-gray-500 sm:text-sm">/hr</span>
              </div>
            </div>
            <p class="mt-2 text-sm text-gray-500">Hourly rate in dollars</p>
          </div>

          <div class="sm:col-span-2">
            <%= form.label :effective_date, class: "block text-sm font-medium text-gray-700" %>
            <div class="mt-1">
              <%= form.date_field :effective_date, class: "shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md" %>
            </div>
            <p class="mt-2 text-sm text-gray-500">Date when this rate becomes effective</p>
          </div>

          <div class="sm:col-span-2">
            <%= form.label :user_id, "Assign to User (Optional)", class: "block text-sm font-medium text-gray-700" %>
            <div class="mt-1">
              <%= form.select :user_id, options_for_select(@users.map { |u| [u.name, u.id] }, @award_rate.user_id), { include_blank: "Unassigned" }, class: "shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md" %>
            </div>
            <p class="mt-2 text-sm text-gray-500">Assign this rate to a specific user</p>
          </div>
        </div>
      </div>

      <div class="px-6 py-4 bg-gray-50 flex items-center justify-between">
        <div class="text-sm text-gray-500">
          Award rates are used to calculate wages for time entries
        </div>
        <div class="flex space-x-3">
          <%= link_to 'Cancel', awards_path, class: 'bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500' %>
          <%= form.submit 'Create Award Rate', class: 'bg-blue-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500' %>
        </div>
      </div>
    <% end %>
  </div>
</div>
