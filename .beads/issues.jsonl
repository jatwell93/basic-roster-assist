{"id":"basic-roster-assist-054","title":"Enable multi-shift creation in single form","description":"Update base_shifts/new to allow adding multiple shifts at once instead of one at a time.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T19:24:50.8898201+11:00","updated_at":"2026-01-11T19:36:37.0358874+11:00","closed_at":"2026-01-11T19:36:37.0358874+11:00"}
{"id":"basic-roster-assist-1uj","title":"Fix missing 'name' column in users table causing awards/new error","description":"PG::UndefinedColumn error on /awards/new - users table missing 'name' column. View tries to access u.name but column doesn't exist. Need to add name column to users table via migration.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-23T22:10:28.6705097+11:00","updated_at":"2025-12-23T22:39:34.6289501+11:00","closed_at":"2025-12-23T22:39:34.6289501+11:00"}
{"id":"basic-roster-assist-2yl","title":"Fix logout link using GET instead of DELETE for Devise sign_out","description":"Logout link sends GET /users/sign_out but Devise expects DELETE request. Need to change link method from GET to DELETE in application layout.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-23T22:11:01.097031+11:00","updated_at":"2025-12-23T22:43:36.1041072+11:00","closed_at":"2025-12-23T22:43:36.1041072+11:00"}
{"id":"basic-roster-assist-3br","title":"Investigate Sales vs Wages percentage formula","description":"In RostersController#calculate_sales_vs_wages_percentage, the formula is (sales / wages) * 100 which gives ~400%. Usually it should be (wages / sales) * 100 (~20%). Spec was expecting 20%.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T23:09:20.5618856+11:00","updated_at":"2026-01-10T14:37:12.8955854+11:00","closed_at":"2026-01-10T14:37:12.8955854+11:00"}
{"id":"basic-roster-assist-3w8","title":"Create WorkSection CRUD interface","description":"Users need ability to create edit delete work sections like Dispensary Cosmetics etc instead of using seeded defaults. Currently WorkSection model exists with validations name uniqueness scoped to user. Seeds create 4 default sections for manager. Feature: Add standard Rails CRUD interface at /work_sections with index new create edit update destroy actions. Technical steps: Generate WorkSectionsController, Add routes resources :work_sections, Create views with Tailwind styling matching existing UI, Add navigation link in header or settings, Validate name presence and uniqueness, Handle deletion: set work_section_id to nil in dependent base_shifts already has optional: true, Authorization: only allow user to manage their own sections. See app/models/work_section.rb for model, app/models/user.rb has has_many :work_sections, db/seeds.rb shows initial data structure.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T20:27:43.5056401+11:00","updated_at":"2026-01-12T21:51:17.2208761+11:00","closed_at":"2026-01-12T21:51:17.2208761+11:00"}
{"id":"basic-roster-assist-3wx","title":"Fix Roster Show Page: Missing graphical representation and shift summary","description":"User reports missing graphical representation of shifts (columns for days, rows for team members) and empty shift summary panel on rosters/show.html.erb.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T15:24:04.174464+11:00","updated_at":"2026-01-10T15:25:08.5967646+11:00","closed_at":"2026-01-10T15:25:08.5967646+11:00"}
{"id":"basic-roster-assist-45r","title":"Build Roster UI (Calendar view) with Stimulus","description":"Create a calendar-based UI for viewing and managing rosters using Stimulus.js. This should display weekly schedules, allow staff assignment, and integrate with existing roster models. Follow existing UI patterns in the codebase.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T12:44:34.47929+11:00","updated_at":"2026-01-05T22:55:02.6369527+11:00","closed_at":"2026-01-05T22:55:02.6369527+11:00"}
{"id":"basic-roster-assist-5fl","title":"Real-time variance calculation","description":"Add JavaScript to calculate daily budget variance in real-time as user types. See app/views/rosters/_roster_grid.html.erb for budget row. Listen for input events on daily budget number_fields, sum values, compare to total_budget data attribute, update variance total cell with color coding (green if 0, red otherwise).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:44:08.8251989+11:00","updated_at":"2026-01-11T19:44:08.8251989+11:00"}
{"id":"basic-roster-assist-61i","title":"Use time_field for BaseShift times","description":"BaseShift start_time and end_time are time columns, but the form uses datetime_local_field. Switching to time_field.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T15:09:42.8247416+11:00","updated_at":"2026-01-10T15:10:09.0146562+11:00","closed_at":"2026-01-10T15:10:09.0146562+11:00"}
{"id":"basic-roster-assist-61j","title":"Build Admin UI for mapping staff to awards","description":"Create an admin interface for mapping staff members to Fair Work awards. This should allow admins to assign awards to users and manage award rates. Follow existing admin UI patterns and use Tailwind CSS styling.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T12:45:00.573629+11:00","updated_at":"2026-01-01T14:39:09.283428+11:00","closed_at":"2026-01-01T14:39:09.283428+11:00"}
{"id":"basic-roster-assist-6gu","title":"Fix undefined method base_rosters_path in rosters/new","description":"Fix ActionView::Template::Error in app/views/rosters/new.html.erb caused by missing route or incorrect form configuration. Documented in openspec/changes/create-roster-app/specs/roster/spec.md","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T15:02:35.7437941+11:00","updated_at":"2026-01-10T15:04:01.3312408+11:00","closed_at":"2026-01-10T15:04:01.3312408+11:00"}
{"id":"basic-roster-assist-6x5","title":"Add toggles for opening/closing time in roster grid","description":"Allow users to dynamically adjust roster grid view times (e.g., expand from 9am-5pm to 7am-10pm) without editing roster settings. Currently opening_time and closing_time are static in BaseRoster. Feature: Add expand/collapse buttons or time pickers in roster grid header to adjust visible timeline range. Technical: Add JavaScript to show/hide time rows, or update CSS display property. Opening/closing times stored in @roster.opening_time and @roster.closing_time. Grid renders rows in app/views/rosters/_roster_grid.html.erb starting line ~23. Consider: (1) Session storage for user preference, (2) Expand earlier (before opening), (3) Expand later (after closing), (4) Reset to defaults button.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-11T20:25:27.5044948+11:00","updated_at":"2026-01-11T20:25:27.5044948+11:00"}
{"id":"basic-roster-assist-7ha","title":"Add PIN verification to User model","description":"Add encrypted PIN field to User model for time clock authentication. This enables staff to clock in/out using a PIN instead of full login credentials. Follow existing User model patterns and add proper validation.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-21T20:34:06.1991972+11:00","updated_at":"2025-12-21T20:49:20.0013019+11:00","closed_at":"2025-12-21T20:49:20.0013019+11:00"}
{"id":"basic-roster-assist-7id","title":"4. Budget \u0026 Forecasting","description":"- [ ] 4.1 Add SalesForecast model","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:17:06.9287562+11:00","updated_at":"2025-12-21T20:01:25.6939197+11:00","closed_at":"2025-12-21T20:01:25.6939197+11:00"}
{"id":"basic-roster-assist-7ve","title":"Shift preview in multi-form","description":"Add live timeline preview to multi-shift form. Show shifts as colored blocks, detect gaps and overlaps. Reuse CSS from app/views/rosters/_roster_grid.html.erb. Add JavaScript to render mini timeline from form data, update every 500ms.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-11T19:44:47.4350182+11:00","updated_at":"2026-01-11T19:44:47.4350182+11:00"}
{"id":"basic-roster-assist-846","title":"Add interval dropdown for roster grid","description":"Allow users to change roster grid time intervals from dropdown (15, 30, or 60 minutes) instead of fixed 30-minute intervals. Currently interval_minutes is stored in BaseRoster and defaults to 30. Feature: Add dropdown in roster header with options [15, 30, 60]. On change, update roster.interval_minutes and reload grid. Technical: Add form with select field above roster grid. On submit, update BaseRoster record and redirect back to show page. Grid loop in app/views/rosters/_roster_grid.html.erb uses roster.interval_minutes to calculate row height and shift positioning pixels_per_minute = 48.0 / interval_minutes. Consider: Adjust row height CSS dynamically, Recalculate all shift positions, Use Turbo Frame for partial update without full reload, Validate interval divides evenly into hour.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-11T20:27:29.7926916+11:00","updated_at":"2026-01-11T20:27:29.7926916+11:00"}
{"id":"basic-roster-assist-8ko","title":"Create UI components for roster management","description":"Create UI components for roster management including calendar view for rosters, staff clock-in interface with PIN verification, and admin UI for award mapping. These will be basic views using existing Rails conventions and Tailwind CSS styling.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-21T20:35:38.5994537+11:00","updated_at":"2025-12-21T20:56:13.1165886+11:00","closed_at":"2025-12-21T20:56:13.1165886+11:00"}
{"id":"basic-roster-assist-8wz","title":"Security: Replace hardcoded passwords in seeds file","description":"UBS flagged 5 critical findings in db/seeds.rb with hardcoded password123 at lines 19 28 37 45 53. Note these are dev and test only not production. Recommend ENV variable pattern or SecureRandom. Priority 3 since seeds are dev-only but shows best practice.","status":"open","priority":3,"issue_type":"chore","created_at":"2026-01-12T21:51:57.2104487+11:00","updated_at":"2026-01-12T21:51:57.2104487+11:00"}
{"id":"basic-roster-assist-8ym","title":"Create AwardRate model","description":"Create AwardRate model to map staff to Fair Work awards and store award rates. This model will integrate with FairWorkApiService to fetch rates and provide a way for admins to assign awards to staff members.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-21T21:53:12.8139715+11:00","updated_at":"2025-12-23T09:41:19.3293147+11:00","closed_at":"2025-12-23T09:41:19.3293147+11:00"}
{"id":"basic-roster-assist-9gq","title":"7. Reporting","description":"7.1 Implement WageReportGenerator (CSV export) - Completed: Created WageReportGenerator service with comprehensive test suite covering date range filtering, user filtering, CSV output, wage calculations, and input validation. All tests pass, linter clean, security reviewed. Note: I see there are 2 failing tests in the FairWorkApiService, but they're unrelated to our wage report generator work. Let me run just the wage report generator tests to confirm our implementation is working correctly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:17:06.9325855+11:00","updated_at":"2025-12-19T00:09:41.6236113+11:00","closed_at":"2025-12-19T00:09:41.6236113+11:00"}
{"id":"basic-roster-assist-9ie","title":"Phase 4: Roster Calendar View Enhancements","description":"Build interactive view elements for calendar UI including staff assignment modal, time/break inputs, sidebar with staff roster, finalize button, and visual feedback (cursor, hover, conflict warnings). Requires HTML/ERB updates to rosters/calendar.html.erb with Tailwind CSS styling.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:52:56.630811+11:00","updated_at":"2026-01-06T23:43:00.2750391+11:00","closed_at":"2026-01-06T23:43:00.2750391+11:00"}
{"id":"basic-roster-assist-9mj","title":"Implement ClockInService","description":"Create ClockInService to handle staff clock-in/out functionality with PIN verification. This service will validate shifts, enforce business rules (no overlapping shifts, max 10 hours), and create TimeEntry records. Follow existing service patterns.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-21T20:34:53.8447029+11:00","updated_at":"2025-12-21T20:55:25.4250525+11:00","closed_at":"2025-12-21T20:55:25.4250525+11:00"}
{"id":"basic-roster-assist-9qs","title":"3. Roster Management","description":"- [ ] 3.1 Create BaseRoster and BaseShift models","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:17:06.9270302+11:00","updated_at":"2025-12-17T20:49:52.8739108+11:00","closed_at":"2025-12-17T20:49:52.8739108+11:00"}
{"id":"basic-roster-assist-a4f","title":"Implement ClockInService","description":"Create ClockInService to handle staff clock-in/out functionality with PIN verification. This service will validate shifts, enforce business rules (no overlapping shifts, max 10 hours), and create TimeEntry records. Follow existing service patterns.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-21T21:53:12.8179324+11:00","updated_at":"2025-12-22T22:45:17.0729337+11:00","closed_at":"2025-12-22T22:45:17.0729337+11:00"}
{"id":"basic-roster-assist-bil","title":"Build Staff Clock-In Interface (PIN entry)","description":"Create a staff-facing interface for clocking in/out using PIN verification. This should include PIN entry form, shift validation, and integration with ClockInService. Follow existing authentication patterns and use Tailwind CSS styling.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T12:45:18.1121583+11:00","updated_at":"2025-12-30T12:50:55.7444314+11:00","closed_at":"2025-12-30T12:50:55.7444314+11:00"}
{"id":"basic-roster-assist-cfx","title":"Add 'New Roster' button to rosters index page","description":"Missing UI button on /rosters page to create new roster. Users cannot access roster creation functionality without manually typing URL.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-23T22:10:39.6092766+11:00","updated_at":"2025-12-23T23:01:37.1373845+11:00","closed_at":"2025-12-23T23:01:37.1373845+11:00"}
{"id":"basic-roster-assist-dz1","title":"Phase 6: RosterMailer Implementation","description":"Implement email notifications for roster finalization and shift changes. Requires two methods: 1) send_shifts(weekly_roster, staff, staff_shifts) to notify assigned staff of their shifts when roster is finalized, 2) shift_changed(shift, old_shift_data, staff) to re-notify staff of changes made to finalized rosters. Create app/mailers/roster_mailer.rb with email templates showing shift details, times, and breaks.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:54:40.3449464+11:00","updated_at":"2026-01-07T00:49:34.3809298+11:00","closed_at":"2026-01-07T00:49:34.3809298+11:00"}
{"id":"basic-roster-assist-efa","title":"Create UI components for roster management","description":"Create UI components for roster management including calendar view for rosters, staff clock-in interface with PIN verification, and admin UI for award mapping. These will be basic views using existing Rails conventions and Tailwind CSS styling.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-21T21:53:12.8090626+11:00","updated_at":"2026-01-08T12:41:23.321914+11:00","closed_at":"2026-01-08T12:41:23.321914+11:00"}
{"id":"basic-roster-assist-f22","title":"Fix pre-existing test failures","description":"Project has 110 failing test examples unrelated to recent Work Section/BaseShift changes. Failures include controller specs using sign_in instead of login_as, OpenStruct constant errors, shoulda-matchers validation issues, missing methods in models like variance and accuracy in SalesForecast, date validation issues, and request spec authentication. Recent changes verified: BaseShift specs 12 passing, WorkSections specs 6 passing. These failures pre-date recent work.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T21:51:42.8730943+11:00","updated_at":"2026-01-12T21:51:42.8730943+11:00"}
{"id":"basic-roster-assist-f3v","title":"Make Target Wage % editable with recalculation","description":"Allow users to adjust target wage percentage on roster show page, recalculating total wage budget dynamically.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T19:24:38.2247113+11:00","updated_at":"2026-01-11T19:36:09.5839302+11:00","closed_at":"2026-01-11T19:36:09.5839302+11:00"}
{"id":"basic-roster-assist-fbv","title":"Add test users to seeds.rb","description":"Create test users in db/seeds.rb for development testing including admin, manager, and staff users with known credentials","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T21:28:53.0267757+11:00","updated_at":"2025-12-23T21:32:44.2642986+11:00","closed_at":"2025-12-23T21:32:44.2642986+11:00"}
{"id":"basic-roster-assist-fzy","title":"Implement RosterCostCalculator service","description":"Create RosterCostCalculator service to calculate total wages for a roster based on staff hourly rates and shift durations. This service will be used to display Sales vs Wages % in the roster UI. Follow existing WageReportGenerator patterns.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-21T21:06:06.5433509+11:00","updated_at":"2025-12-22T21:42:55.6585486+11:00","closed_at":"2025-12-22T21:42:55.6585486+11:00"}
{"id":"basic-roster-assist-gmg","title":"1. Project Setup","description":"- [ ] 1.1 Initialize Rails application with Tailwind CSS","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:17:06.9074713+11:00","updated_at":"2025-12-16T23:46:10.9706142+11:00","closed_at":"2025-12-16T23:46:10.9706142+11:00"}
{"id":"basic-roster-assist-ht4","title":"5. Integrations","description":"- [ ] 5.1 Create FairWorkApiService","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:17:06.9304862+11:00","updated_at":"2025-12-18T22:03:32.438839+11:00","closed_at":"2025-12-18T22:03:32.438839+11:00"}
{"id":"basic-roster-assist-k4w","title":"Display Sales vs Wages % on Roster UI","description":"Add a display showing the percentage of sales vs wages costs on the roster interface. This should integrate with RosterCostCalculator service and display the ratio prominently. Follow existing UI patterns and use Tailwind CSS styling.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T12:44:47.2285413+11:00","updated_at":"2026-01-01T15:34:57.3782291+11:00","closed_at":"2026-01-01T15:34:57.3782291+11:00"}
{"id":"basic-roster-assist-k7i","title":"Enhance daily budget variance display","description":"Add weekly budget variance indicator to Daily Budget row. Problem: Users can edit individual daily budgets but lose track of weekly total. If weekly budget is 3500 (7 days × 500) and user changes Monday to 600, weekly total becomes 3600 (over by +100). User needs to reduce another day to stay within weekly budget. Current: Daily Budget row shows editable inputs for each day plus Total column showing sum of daily budgets. Missing: Comparison of daily budget sum vs weekly budget target, and variance indicator. Solution: Add Weekly Budget Variance cell at end of Daily Budget row showing: sum(daily_budgets) - roster.total_budget. Color-code: Green when 0, Red when positive (over budget), Blue when negative (under budget). Add tooltip explaining: You are over/under weekly budget, adjust daily budgets to balance. Location: app/views/rosters/_roster_grid.html.erb Daily Budget row around line 80-95. Consider: Real-time JS update as user edits daily budget fields, Bold/large text for visibility, Show both dollar amount and percentage.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-11T20:27:36.6455574+11:00","updated_at":"2026-01-11T20:30:46.9836622+11:00"}
{"id":"basic-roster-assist-law","title":"Security: Update action_text-trix dependency","description":"bundler-audit flagged vulnerability: action_text-trix 2.1.15 has stored XSS vulnerability through attachment attribute (GHSA-g9jg-w8vm-g96v, Medium criticality). Solution: Update to \u003e= 2.1.16. Run: bundle update action_text-trix \u0026\u0026 bundle audit to verify fix.","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-12T21:51:23.8019081+11:00","updated_at":"2026-01-12T22:46:25.2832163+11:00","closed_at":"2026-01-12T22:46:25.2832163+11:00"}
{"id":"basic-roster-assist-lkg","title":"Evaluate RailsAdmin for admin interface","description":"Research RailsAdmin gem (https://github.com/railsadminteam/rails_admin, https://deepwiki.com/railsadminteam/rails_admin) to determine if it simplifies admin/manager/staff role management and CRUD operations. Current state: Custom controllers for Awards, Users, WorkSections. Devise for auth, Pundit for authorization. User roles: admin, manager, staff (enum in User model). RailsAdmin provides: (1) Auto-generated admin UI for all models, (2) Role-based access control, (3) Bulk actions, (4) Export/import, (5) Dashboard with stats, (6) Customizable per-model. Research tasks: (1) Install in test branch, (2) Configure roles/permissions, (3) Compare with existing custom UI, (4) Evaluate customization needs (roster grid not suitable for RailsAdmin, but Awards/Users/WorkSections might be), (5) Check performance impact, (6) Security audit. Decision criteria: Does it reduce maintenance burden vs custom CRUD? Does it conflict with Tailwind styling? Can it coexist with custom roster UI? Deliverable: Written analysis with recommendation (adopt fully, adopt selectively for admin-only models, or reject).","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T20:25:46.5454826+11:00","updated_at":"2026-01-11T20:25:46.5454826+11:00"}
{"id":"basic-roster-assist-mqk","title":"Create RosterPublishedNotification","description":"Create RosterPublishedNotification service to send email notifications when rosters are published. This service will integrate with ActionMailer and use existing email templates. Follow existing notification patterns in the codebase.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-21T21:53:12.8059528+11:00","updated_at":"2025-12-22T23:11:23.6438313+11:00","closed_at":"2025-12-22T23:11:23.6438313+11:00"}
{"id":"basic-roster-assist-no0","title":"Investigate Sales vs Wages percentage formula","description":"In RostersController#calculate_sales_vs_wages_percentage, the formula is (sales / wages) * 100 which gives ~400%. Usually it should be (wages / sales) * 100 (~20%). Spec was expecting 20%.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-08T23:09:28.7969346+11:00","updated_at":"2026-01-08T23:09:28.7969346+11:00"}
{"id":"basic-roster-assist-oq6","title":"Redesign Base Roster UI and Data Model","description":"Implement wireframe from base_roster_example.md including graphical timeline, configurable opening hours, custom sections, and detailed budgeting calculations.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T18:31:07.5818339+11:00","updated_at":"2026-01-11T18:59:47.1513049+11:00","closed_at":"2026-01-11T18:59:47.1513049+11:00"}
{"id":"basic-roster-assist-pzt","title":"Make daily budget editable with variance tracking","description":"Allow editing individual daily budgets with automatic variance calculation to ensure weekly total equals budget.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T19:24:44.7438069+11:00","updated_at":"2026-01-11T19:36:16.039973+11:00","closed_at":"2026-01-11T19:36:16.039973+11:00"}
{"id":"basic-roster-assist-qbk","title":"Shift template presets","description":"Create ShiftTemplate model to save/reuse common shift patterns. Features: (1) Save current roster as template, (2) Create template from scratch, (3) Apply template to roster, (4) Manage templates (CRUD). Technical: Generate model with name, user_id, template_shifts:jsonb. Add ShiftTemplateService for JSON serialization. Update rosters/show with 'Save as Template' and 'Apply Template' buttons. See app/views/base_shifts/new_multi.html.erb for form pattern.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-11T19:44:15.6678952+11:00","updated_at":"2026-01-11T19:44:15.6678952+11:00"}
{"id":"basic-roster-assist-qj0","title":"2. Authentication \u0026 User Management","description":"- [ ] 2.1 Implement User model with roles (Admin, Manager, Staff)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:17:06.9251943+11:00","updated_at":"2025-12-17T08:32:11.3469188+11:00","closed_at":"2025-12-17T08:32:11.3469188+11:00"}
{"id":"basic-roster-assist-qod","title":"6. Time Tracking","description":"- [ ] 6.1 Create TimeEntry model (clock_in, clock_out)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:17:06.9320742+11:00","updated_at":"2025-12-18T22:58:07.8290891+11:00","closed_at":"2025-12-18T22:58:07.8290891+11:00"}
{"id":"basic-roster-assist-sde","title":"Fix rosters/new route routing to show action instead of new","description":"Manually navigating to /rosters/new causes RecordNotFound error because controller tries to find BaseRoster with id='new'. Route should map to new action, not show action.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-23T22:10:50.1908374+11:00","updated_at":"2025-12-23T23:00:15.0218302+11:00","closed_at":"2025-12-23T23:00:15.0218302+11:00"}
{"id":"basic-roster-assist-uq8","title":"Implement WeeklyRoster generation logic","description":"Create logic to generate weekly rosters from BaseRoster and BaseShift models. This should handle recurring patterns, staff assignments, and roster constraints. Follow existing patterns in the codebase.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-26T12:44:21.8092457+11:00","updated_at":"2025-12-26T17:26:19.5260313+11:00","closed_at":"2025-12-26T17:26:19.5260313+11:00"}
{"id":"basic-roster-assist-vaq","title":"Use date_field instead of datetime_local_field for Roster dates","description":"User requested removing time component from Start/End date inputs in rosters/new.html.erb to avoid confusion and manual entry errors.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T15:08:51.8591793+11:00","updated_at":"2026-01-10T15:09:16.0001677+11:00","closed_at":"2026-01-10T15:09:16.0001677+11:00"}
{"id":"basic-roster-assist-vj1","title":"Visual shift preview in multi-form","description":"Add live timeline preview to multi-shift form showing shifts as colored blocks while user types. Detect and highlight gaps (no coverage) and overlaps (conflicting shifts). Layout options: split view (left form, right timeline), accordion (collapsible panel), or modal. Add JavaScript to collect shift data from form fields, render mini timeline (reuse CSS from app/views/rosters/_roster_grid.html.erb), position shifts absolutely, detect gaps/overlaps. Update every 500ms (debounced).","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-11T19:44:35.1954674+11:00","updated_at":"2026-01-11T19:44:35.1954674+11:00"}
{"id":"basic-roster-assist-vug","title":"Write tests for ClockInsController","description":"Add comprehensive controller tests for ClockInsController to complete TDD requirements. Test PIN validation, clock in/out flows, error handling, and service integration.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T12:51:16.7112326+11:00","updated_at":"2025-12-30T21:24:44.8476096+11:00","closed_at":"2025-12-30T21:24:44.8476096+11:00"}
{"id":"basic-roster-assist-x2w","title":"Build BaseShift UI and Management","description":"Add UI for creating, editing, and deleting BaseShifts within roster templates. Implementation includes: 1) Create BaseShiftsController with RESTful CRUD actions (new, create, edit, update, destroy), 2) Add nested routes under rosters resource, 3) Create form partial for shift with day selector (enum), shift_type selector (enum), start_time and end_time inputs, 4) Add inline form to rosters/show.html.erb for quick shift creation, 5) Add edit/delete buttons on each shift card with confirmation, 6) Validation feedback for overlapping shifts, 7) Write comprehensive tests for controller actions and views following TDD pattern (RED → GREEN → REFACTOR). Full CRUD flow: users can create unlimited shifts per day, view shifts grouped by day in show view, edit any shift including time conflicts, delete shifts with confirmation dialog. All tests passing, linter clean before merge.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T20:58:00+11:00","updated_at":"2026-01-08T22:14:04.8034714+11:00","closed_at":"2026-01-08T22:14:04.8034714+11:00"}
{"id":"basic-roster-assist-ym1","title":"Fix overlapping shift validation in multi-shift form","description":"Multi-shift creation fails when shifts overlap (e.g., two different shifts 9-5 on same day). This validation is correct for WeeklyShift (assigned to staff) but incorrect for BaseShift (template shifts that can overlap). Problem: BaseShift model has no_overlapping_shifts validation that checks same day overlaps. Solution: Remove or modify validation to allow overlaps in base template, keep strict validation only for WeeklyShift when assigned to specific staff member. See app/models/base_shift.rb validation and app/controllers/base_shifts_controller.rb create_multi error handling.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-11T20:25:19.9815132+11:00","updated_at":"2026-01-12T21:51:10.9975002+11:00","closed_at":"2026-01-12T21:51:10.9975002+11:00"}
{"id":"basic-roster-assist-yv2","title":"Multi-shift validation UX","description":"Currently multi-shift form redirects on validation failure, losing user input. Change app/controllers/base_shifts_controller.rb create_multi to render :new_multi instead of redirect. Pass @shifts_params and @invalid_shifts to view. Update app/views/base_shifts/new_multi.html.erb to pre-populate fields and show inline error messages (red border, error text). See BaseShift model validations for error types.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-11T19:44:28.875914+11:00","updated_at":"2026-01-11T19:44:28.875914+11:00"}
{"id":"basic-roster-assist-zdx","title":"Budget preset buttons","description":"Add quick-action buttons above daily budget row for common allocation strategies: (1) Equal Split (total/7), (2) Mon-Fri Heavy (70/30 weekday/weekend), (3) Weekend Heavy (60/40 weekend/weekday). Add JavaScript to calculate and populate all 7 daily budget fields on button click. Trigger real-time variance update. See app/views/rosters/_roster_grid.html.erb Daily Budget row. Depends on real-time variance task.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-11T19:44:22.3002315+11:00","updated_at":"2026-01-11T19:44:22.3002315+11:00"}
{"id":"basic-roster-assist-zio","title":"Drag-and-drop shift adjustment","description":"Add drag-and-drop to roster grid for visual shift time adjustment. Evaluate vkurko/calendar library at github.com/vkurko/calendar or implement custom vanilla JS solution. Current: Shifts positioned absolutely in app/views/rosters/_roster_grid.html.erb as colored blocks, edited via form. Goal: Drag blocks to adjust times visually. Technical: Capture dragstart drag drop events, Calculate new start/end from pixel position, Send AJAX to update, Validate no overlaps for assigned shifts, Snap to interval increments. Challenges: Multiple shifts per day Overnight shifts Conflict detection Mobile touch. Consider phased: Read-only calendar view first then add drag.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-11T20:27:59.528967+11:00","updated_at":"2026-01-11T20:27:59.528967+11:00"}
{"id":"basic-roster-assist-zqs","title":"Implement Weekly Roster Generation Flow","description":"Enable users to generate actual weekly rosters from their templates (BaseRosters). 1) Add 'generate' action to RostersController. 2) Use WeeklyRosterGenerationService. 3) Add Generate button to rosters/show view. 4) Handle redirection to Calendar view.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T22:18:58.4509221+11:00","updated_at":"2026-01-08T23:09:09.7672562+11:00","closed_at":"2026-01-08T23:09:09.7672562+11:00"}
